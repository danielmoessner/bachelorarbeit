Springer Proof Issues
===============================================================================

The following lists issues that we have previously found in our proofs.
IMPORTANT: So far, in every paper there have been new severe issues.
Do NOT rely on this list as a checklist, you need to check basically
every word in the proof whether it is correct.

Note that Springer typically does not fix everything in the second proof
and introduces new issues, so all subsequent proofs
need to be checked completely again.

One reason for problems are non-unique file names,
e.g., having both foo.tex and figures/foo.tex can lead to the content
of one of the two files completely missing from the paper.


Metadata:

- adding personal email address to paper

- ORCID information only for some authors on title page

- only one author and "et al." in headline
  (won't be fixed for journal papers)


Content:

- wording changes (e.g., "lab" -> "laboratory")


Typesetting:

- missing white spaces between words

- full space between number and unit instead of thin space

- thousands separator replaced by comma or removed completely

- bad page breaks
  (preferably three lines before and two lines after a page break)

- bad line breaks
  (before a symbol or citation, inside formulas or references)

- lines with only one or two words at end of paragraph

- line breaks in URLs must be directly after a slash and have no hyphen

- inline paragraph headings without additional whitespace after them

- footnotes with period at end although there is no full sentence
  (or footnotes without period although there is a full sentence)

- incorrect footnote numbers
  (especially when referring twice to the same footnote)

- footnote reference moved to end of sentence

- broken URLs, both the readable text in the paper and the clickable URL
  -> use linkchecker to check all URLs in the paper

- check the position of the links in the PDFs
  (error condition: clickable area not over the URL or linked text)

- missing small caps for tool names

- missing or superfluous white space within tool names
  (e.g. "UltimateAutomizer", "CPA checker")

- special formatting of words (e.g., italic, monospace) removed

- removing dashes in places where they are necessary
  (e.g., "non-root" is an exception to "no dash after prefix non")

- moved URL out of footnote into text


Figures/Algorithms/Listings
(issues may appear inconsistently only for some figures in a paper!):

- figure as image (no copy-and-paste, different font than rest of paper)

- figure scaled up or down or up

- figure moved to different section

- figures that belong to each other put on different pages

- figure redrawn by Springer, but incorrectly or with different formatting

- figure redrawn, but with parts of the figure still being an image

- subfigure captions moved into main-figure caption

- figure not placed at top of page

- references to subfigures in the text have only the number clickable

- broken formatting, e.g., for right-aligned comments in algorithms

- reference replaced with the name of the LaTeX reference label

- references (especially to listings) in text not clickable

- changed line breaks in listings


Tables:

- number alignment broken

- line breaks in cells changed

- formatting broken


Bibliography:

- reordered references without adjusting numbers in text

- wrong formatting of arXiv id

- added editor names or publisher locations inconsistently
  (e.g., only for Springer papers)

- inconsistent name of proceedings

- naming all proceedings "Proceedings to the <CONFERENCE>"

- extra "ETAPS 2013" after "TACAS 2013"

- inconsistent capitalization after a ":" in a publication name

- line breaks after "pp.", "vol.", or "J." or between page numbers

- invisible links converted to visible DOI links

- broken or inconsistent formatting of tool names in small caps

- broken umlauts

- incorrect hyphenation of names

- period or comma inserted in places where it should not be,
  e.g., after punctuation or before parentheses

- DOIs must be printed as URLs (with https, without dx) and must be hyperlinked

Tool Support
===============================================================================

There are some tools you can use to check the PDFs

## diffpdf

Will show you differences between two PDFs visually.
Install and usage instructions:

    $ sudo apt install diffpdf
    $ diffpdf first.pdf second.pdf

## pdftotext

Extracts all text from a PDF. You can then e.g. use the diff engine of your liking.
Install and usage instructions:

    $ sudo apt install poppler-utils
    $ pdftotext in.pdf out.txt

## linkchecker

Can check links in the PDF and lists broken links (requires python > 3.5).
Linkchecker's PDF parser seems to not work for Springer publications, at least.
Because of this, we manually extract URLs from the PDF.

### Installation

    $ pipx install git+https://github.com/linkchecker/linkchecker.git
    $ sudo apt install poppler-utils  # necessary for pdftohtml

Regarding linkchecker: Careful, there are different repos, make sure to take this one:
https://github.com/linkchecker/linkchecker

## Usage linkchecker

Use [this script][1] to extract the HTTP links from your PDF.
[1]: https://gitlab.com/sosy-lab/admin/webpage/-/blob/master/scripts/get_http_links.sh

    $ get_http_links.sh PDFFILE | linkchecker --stdin -r0

(number of URLs reported by linkchecker may be larger than real number, because redirects are counted)


Template
===============================================================================

The following template can be used for the mail to Springer.
Check whether the listed issues apply to your paper,
and add further specific and general issues as appropriate.
Also replace all <TAGS> with concrete information.

Springer typically asks whether the corresponding author and the city name
are correct, so this template answers these two questions.
Remove if necessary.


Dear Sir or Madam,

please find below our corrections for the first proof
of our article "<TITLE>"
in the journal <JOURNAL> (DOI <DOI>).

Unfortunately, the current proof version has severe issues
and cannot be approved.

Please fix the issues that we list below and send us a new proof.
We will carefully check the new proof after you have incorporated all changes below.

Best regards,
<AUTHORS>


Specific issues:

- The email address on the first page of the paper must be removed,
  because it is not guaranteed to be available in the future.
  We understand that you may need to add an email address to the XML version
  of the paper, please use "info@sosy-lab.org" for this
  (but not for the PDF version).
  Please also remove the separate mention of a corresponding author on the first page,
  as it does not make sense without an email address.

- Please give ORCID information for all authors:



General remarks about issues that need to be fixed everywhere in the paper:

- The paragraph formatting is suboptimal, often leading to much hyphenation,
  lots of white space between words, or too little white space between words.
  Please improve this.

- There should never be a line break directly before a reference.

- Some figures seem to have been replaced by pixel images.
  This can cause problems (blurry/pixelated images) at high zoom levels.
  Vectorized images should be used for all figures instead.

- Whenever a subfigure is referenced (e.g., "Fig. 3b"),
  only the number is clickable. The full reference (e.g., "3b")
  should be clickable and point to the respective subfigure.

- For subfigures, please put the caption of the subfigure
  beside the label of the subfigure as it was in our manuscript,
  and not inside the caption of the figure.
  The latter makes it hard to identify which figure shows what,
  for example in Fig. 9.

- Throughout the paper, the space between a number and a unit (e.g., "s")
  is too large. There should only be a thin space.
  Furthermore, there must never be a line break between number and unit.

- Throughout the paper, many paragraphs end with a short line
  that contains only a single short word or even only part of word.
  This is ugly, please use a better paragraph formatting that avoids this.

- Footnotes that do not contain a full sentence should not end with a period.

- For all references to conference publications in the bibliography,
  please change "Proceedings of the" to "Proceedings of".

- In the literature references, there should not be a line break between "pp."
  and the page numbers.



Response to author queries:

1. The corresponding author is correctly identified.
   Note that this is *not* the first author.
   The authors must appear in the order "<AUTHORS>".
   Please remove the email address of the corresponding author,
   it must not be published.

2. The city "Munich" is correct.
